mainmodule vartest {
  readonly CProxy_Main mainProxy;
  readonly int n_engines;
  readonly int msg_count;
  readonly int lambda;

  mainchare Main {
    entry Main(CkArgMsg*);
    entry [reductiontarget] void generatedSum(int);
    entry [reductiontarget] void receivedSum(int);
  };

  array [1D] Engine {
    entry Engine();
    entry void simulate();
    entry [aggregate (bufferSize:2048, numDimensions:2, thresholdNumer:1, thresholdDenom:2, cutoffNumer:1, cutoffDenom:2, nodeLevel:0)] void ping(std::vector<int>);
  };
};
