name: Autobuild

on:
  schedule:
    - cron: '15 06 * * *' # UTC 6:15am, corresponds to 00:15 CST or 01:15 CDT
  push:
    paths:
      - '.github/workflows/autobuild.yml'


# Cancel in progress CI runs when a new run targeting the same PR or branch/tag is triggered.
# https://stackoverflow.com/questions/66335225/how-to-cancel-previous-runs-in-the-pr-when-you-push-new-commitsupdate-the-curre
concurrency:
    group: ${{ github.workflow }}-${{ github.ref }}
    cancel-in-progress: true

jobs:
  Delta:
    timeout-minutes: 60

    runs-on: delta
    name: Delta

    steps:
    - uses: actions/checkout@v3
      with:
        ref: autobuild
    - name: build
      run: |
        echo "Running autobuild on delta"
        hostname
        uname -a
        lsb_release -a
